<!doctype html><html lang=en-us><head><meta charset=UTF-8><title>Rotational Labs | PubSub 101 - Querying Topics with SQL</title>
<base href=https://rotational.io/ target=_self><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Rotational Labs, Inc."><meta name=description content="In this module you will query your Ensign topics using SQL-like syntax to get historic events. Great Scott, it's time travel!"><meta name=keywords content="ai for companies,ai software,ai consulting,ai solutions,ai development,enterprise ai,ai services,ai platform,ai applications,ai for business,artificial intelligence solutions,artificial intelligence consulting"><link type=text/plain rel=author href=https://rotational.io/humans.txt><meta property="og:title" content="PubSub 101 - Querying Topics with SQL"><meta property="og:description" content="In this module you will query your Ensign topics using SQL-like syntax to get historic events. Great Scott, it's time travel!"><meta property="og:image" content="https://rotational.io/img/blog/otter_investigator.png"><meta property="og:url" content="https://rotational.io/blog/pubsub-101---querying-topics/"><meta property="og:type" content="website"><meta name=twitter:title content="PubSub 101 - Querying Topics with SQL"><meta name=twitter:card content="summary"><meta name=twitter:description content="In this module you will query your Ensign topics using SQL-like syntax to get historic events. Great Scott, it's time travel!"><meta name=twitter:image content="https://rotational.io/img/blog/otter_investigator.png"><link rel="shortcut icon" href=https://rotational.io/img/favicon.png type=image/x-icon><link rel=icon href=https://rotational.io/img/favicon.png type=image/x-icon><link rel=alternate type=application/rss+xml href=https://rotational.io//index.xml title="Recent Rotations of the Rotational Labs Blog"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap" rel=stylesheet><link rel=stylesheet href=https://rotational.io/output.css media=screen><script type=text/javascript id=hs-script-loader async defer src=//js.hs-scripts.com/24168101.js></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("consent","default",{ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied",analytics_storage:"denied",functionality_storage:"denied",personalization_storage:"denied"});const hspConsent=window._hsp=window._hsp||[];hspConsent.push(["addPrivacyConsentListener",function(e){const s=e&&(e.allowed||e.categories&&e.categories.analytics),t=e&&(e.allowed||e.categories&&e.categories.advertisement),n=e&&(e.allowed||e.categories&&e.categories.functionality);gtag("consent","update",{ad_storage:t?"granted":"denied",ad_user_data:t?"granted":"denied",ad_personalization:t?"granted":"denied",analytics_storage:s?"granted":"denied",functionality_storage:n?"granted":"denied",personalization_storage:n?"granted":"denied"})}])</script><script src="https://www.googletagmanager.com/gtag/js?id=G-2FKX6CWJHW" async defer></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-2FKX6CWJHW")</script><script async defer src="https://www.google.com/recaptcha/enterprise.js?render=6Ld5O3kiAAAAAJU0z0h81X1RxEMHyoROe6KWe_vk"></script><script src=https://kit.fontawesome.com/fea17a4e21.js crossorigin=anonymous></script></head><body><div class="relative bg-[#1D65A6]"><nav class="w-full max-w-7xl mx-auto px-4 sm:px-6 py-5" aria-label=Global><div class="relative max-w-7xl w-full flex flex-wrap lg:flex-nowrap items-center justify-between mx-auto"><a href=/><img src=/img/rototational-white-text-only_hu15583614935666962927.webp alt=Rotational class="h-6 w-auto">
</a><button data-collapse-toggle=navbar-dropdown type=button class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200" aria-controls=navbar-dropdown aria-expanded=false>
<span class=sr-only>Open main menu</span>
<i class="fa fa-bars text-xl text-white"></i></button><div class="hidden absolute z-[9999] lg:static top-16 w-[92%] md:w-[96%] lg:w-auto lg:block bg-white lg:bg-transparent text-[#192E5B] lg:text-[#F2F2F2] py-2 rounded-md" id=navbar-dropdown><ul class="flex flex-col lg:gap-2 xl:gap-4 md:flex-row font-semibold w-full md:justify-between"><li class="py-2 uppercase text-sm lg:text-[15px] xl:text-[17px]"><a class="px-3 py-3.5 hover:text-black" href=/about/>About</a></li><li class="py-2 uppercase text-sm lg:text-[15px] xl:text-[17px]"><button id=dropdownNavbarLink data-dropdown-toggle=dropdownNavbar class="uppercase flex items-center justify-between gap-x-2 w-full px-3 rounded md:border-0 md:p-0 md:w-auto hover:text-black">
Services
<i class="fa fa-angle-down pt-1"></i></button><div id=dropdownNavbar class="z-10 hidden font-normal bg-[#192E5B] divide-y divide-[#192E5B] rounded-lg shadow w-44"><ul class="py-2 text-sm text-[#F2F2F2]" aria-labelledby=dropdownLargeButton><li><a href=/services/ai-assessments/ class="block px-3 py-2 hover:font-bold">AI Assessments</a></li><li><a href=/services/ai-product-development/ class="block px-3 py-2 hover:font-bold">AI Product Development</a></li><li><a href=/services/ai-ops-and-data-foundations/ class="block px-3 py-2 hover:font-bold">AI Ops & Data Foundations</a></li></ul></div></li><li class="py-2 uppercase text-sm lg:text-[15px] xl:text-[17px]"><a class="px-3 py-3.5 hover:text-black" href=/case-studies>Case Studies</a></li><li class="py-2 uppercase text-sm lg:text-[15px] xl:text-[17px]"><a class="px-3 py-3.5 hover:text-black" href=/blog/>Blog</a></li><li class="py-2 uppercase text-sm lg:text-[15px] xl:text-[17px]"><a class="px-3 py-3.5 hover:text-black" href=/learning/>Learning</a></li><li class="py-2 uppercase text-sm lg:text-[15px] xl:text-[17px]"><a class="px-3 py-3.5 hover:text-black" href=/endeavor/>Product</a></li><li class="py-2 uppercase text-sm lg:text-[15px] xl:text-[17px]"><a class="px-3 py-3.5 hover:text-black" href=/contact/>Contact</a></li></ul></div></div></nav></div><main><div class="relative max-w-7xl mx-auto px-4 sm:px-6"><div class=mt-14><div class=blog-img><img src=/img/blog/otter_investigator_hu6407905671131049251.webp alt="PubSub 101 - Querying Topics with SQL" class="mx-auto object-cover"></div><div class=mt-8><h3 class="font-bold text-xl sm:text-2xl lg:text-3xl text-center" data-blog-title="PubSub 101 - Querying Topics with SQL"><b class=text-[#1D65A6]>PubSub </b>101 - Querying Topics with SQL</h3><div class="flex flex-wrap justify-center items-center my-6"><a href=/authors/patrick-deziel><img src=img/team/patrick-deziel.png alt class="mr-3 border-4 border-white rounded-full h-11 drop-shadow-lg">
</a><span><a href=/authors/patrick-deziel>Patrick Deziel</a> | Friday, Dec 8, 2023 |&nbsp;
</span><span><a href=/tags/ensign>Ensign</a>,&nbsp;
</span><a href=/tags/ensql>enSQL</a>,&nbsp;
</span><a href=/tags/pubsub-101>PubSub 101</a></span></div><article class="max-w-[800px] mx-auto prose mt-12"><p>Real-time data streams are powerful, but sometimes you need to convert the stream into a batch or replay parts of the stream. Here&rsquo;s how to write customized SQL to more deeply understand and interact with your historic data.</p><p><em>Heads Up: This module assumes you&rsquo;ve already created a topic and published some data to it.</em></p><p>If you haven&rsquo;t already, take a look at the previous <a href=https://rotational.io/tags/pubsub-101>modules</a> to make sure you have a topic and some data to work with! Using the previous modules, you&rsquo;ll <a href=https://rotational.io/blog/pubsub-101---creating-your-project/>create an Ensign project</a>, get familiar with the <a href=https://rotational.io/blog/pubsub-101---using-the-python-sdk/>PyEnsign SDK</a> and <a href=https://rotational.io/blog/pubsub-101---creating-data-flows-with-topics/>create your first topic</a>, and finally <a href=https://rotational.io/blog/pubsub-101---creating-a-publisher/>build a publisher</a> and <a href=https://rotational.io/blog/pubsub-101---creating-a-subscriber/>run a subscriber</a> to make sure you&rsquo;ve got some data in your topic ready to go for this module.</p><h2 id=event-persistence>Event Persistence</h2><p>You already know that Ensign can stream <code>events</code> for you through the use of <code>publishers</code> and <code>subscribers</code>. Pure stateless processing is sometimes all you need. However, in many cases you need to see what was published in the past, in order to recover from unexpected failure, perform historical or trend analytics, or debug asynchronous workflows.</p><p>By default Ensign persists <strong>all of the events</strong> that have been published to all of your <code>topics</code>. This makes it possible to both retrieve any previous <code>event</code> or replay a <em>stream of events</em> from any point in time (That means you&rsquo;re a time traveler! Great Scott!).</p><h2 id=ensql>enSQL</h2><p>Ensign implements a specific query language with the <a href=https://ensign.rotational.dev/ensql/syntax/>same syntax as classical SQL</a> except that it lets you query Ensign <code>topics</code> over specific windows of time. We call it enSQL. Similar to how you can query over <code>tables</code> in relational databases, with enSQL you can query over <code>topics</code>.</p><p>Here&rsquo;s a visual representation of the basic syntax:</p><p><img alt="&ldquo;enSQL Syntax&rdquo;" src=/img/blog/2023-12-08-pubsub-101---querying-topics/syntax.png></p><p>If you want, check out the <a href=https://ensign.rotational.dev/ensql/>full documentation</a> about enSQL syntax and query operators.</p><h2 id=your-first-query>Your First Query</h2><p>Let&rsquo;s return to the flight tracker project we&rsquo;ve been working on in the last few <a href=https://rotational.io/tags/pubsub-101>modules</a> and see if we can run some queries. Consider the query below.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> flight<span style=color:#f92672>-</span>positions
</span></span></code></pre></div><p>You can interpret the query as &ldquo;select all the events from the <code>flight-positions</code> topic&rdquo;. Try running it from the topic dashboard for the <code>flight-positions</code> topic, which you can get to from the <a href=https://rotational.app/app/projects>project dashboard</a>. You should see the query results below.</p><p><img alt="&ldquo;Simple Query&rdquo;" src=/img/blog/2023-12-08-pubsub-101---querying-topics/query.png></p><p>Note that the events are returned in the order that they were published, starting from the very first event in the topic to the most recent event. This turns out to be a useful property because it allows you to &ldquo;replay&rdquo; the event stream.</p><p>Of course, you can also run queries directly from Python SDK. With the pyensign client, the <code>query()</code> function returns a cursor to fetch events with <code>fetchone()</code>, <code>fetchmany()</code>, and <code>fetchall()</code>, similar to how you would process query results with a database adapter like psycopg2.</p><h3 id=retrieve-the-first-event-from-your-topic>Retrieve the First Event from Your Topic</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>ensign <span style=color:#f92672>=</span> Ensign()
</span></span><span style=display:flex><span>cursor <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> ensign<span style=color:#f92672>.</span>query(<span style=color:#e6db74>&#34;SELECT * FROM flight-positions&#34;</span>)
</span></span><span style=display:flex><span>print(<span style=color:#66d9ef>await</span> cursor<span style=color:#f92672>.</span>fetchone())
</span></span></code></pre></div><pre tabindex=0><code>Event:
	id: 0661t13avm0gxesn
	data: b&#39;{&#34;icao24&#34;: &#34;ac2f83&#34;, &#34;callsign&#34;: &#34;&#34;, &#34;origin_country&#34;: &#34;United States&#34;, &#34;time_position&#34;: 170129382...
	mimetype: application/json
	schema: FlightVector v0.1.0
	state: EventState.INITIALIZED
	created: 2023-11-29 15:37:57
</code></pre><p><em>Pro Tip: If you are running into async errors with the code, you can run it in a Python notebook to avoid writing the <code>asyncio</code> boilerplate</em></p><h3 id=retrieve-the-first-n-events-from-your-topic>Retrieve the First <code>n</code> Events from Your Topic</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>cursor <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> ensign<span style=color:#f92672>.</span>query(<span style=color:#e6db74>&#34;SELECT * FROM flight-positions&#34;</span>)
</span></span><span style=display:flex><span>events <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> cursor<span style=color:#f92672>.</span>fetchmany(<span style=color:#ae81ff>3</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> event <span style=color:#f92672>in</span> events:
</span></span><span style=display:flex><span>    print(event)
</span></span></code></pre></div><pre tabindex=0><code>Event:
	id: 0661t13avm0gxesn
	data: b&#39;{&#34;icao24&#34;: &#34;ac2f83&#34;, &#34;callsign&#34;: &#34;&#34;, &#34;origin_country&#34;: &#34;United States&#34;, &#34;time_position&#34;: 170129382...
	mimetype: application/json
	schema: FlightVector v0.1.0
	state: EventState.INITIALIZED
	created: 2023-11-29 15:37:57
Event:
	id: 0661t13awg0gxesp
	data: b&#39;{&#34;icao24&#34;: &#34;c02e9b&#34;, &#34;callsign&#34;: &#34;JZA635  &#34;, &#34;origin_country&#34;: &#34;Canada&#34;, &#34;time_position&#34;: 17012938...
	mimetype: application/json
	schema: FlightVector v0.1.0
	state: EventState.INITIALIZED
	created: 2023-11-29 15:37:57
Event:
	id: 0661t13aww0gxesq
	data: b&#39;{&#34;icao24&#34;: &#34;ad3add&#34;, &#34;callsign&#34;: &#34;N9511D  &#34;, &#34;origin_country&#34;: &#34;United States&#34;, &#34;time_position&#34;: 1...
	mimetype: application/json
	schema: FlightVector v0.1.0
	state: EventState.INITIALIZED
	created: 2023-11-29 15:37:57
</code></pre><h3 id=retrieve-all-events-from-your-topic>Retrieve All Events from Your Topic</h3><p>You can also iterate over the cursor itself to asynchronously retrieve the stream of events, which is like subscribing at a previous point in time.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>cursor <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> ensign<span style=color:#f92672>.</span>query(<span style=color:#e6db74>&#34;SELECT * FROM flight-positions&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>async</span> <span style=color:#66d9ef>for</span> event <span style=color:#f92672>in</span> cursor:
</span></span><span style=display:flex><span>    print(event)
</span></span></code></pre></div><pre tabindex=0><code>Event:
	id: 0661t13avm0gxesn
	data: b&#39;{&#34;icao24&#34;: &#34;ac2f83&#34;, &#34;callsign&#34;: &#34;&#34;, &#34;origin_country&#34;: &#34;United States&#34;, &#34;time_position&#34;: 170129382...
	mimetype: application/json
	schema: FlightVector v0.1.0
	state: EventState.INITIALIZED
	created: 2023-11-29 15:37:57
Event:
	id: 0661t13awg0gxesp
	data: b&#39;{&#34;icao24&#34;: &#34;c02e9b&#34;, &#34;callsign&#34;: &#34;JZA635  &#34;, &#34;origin_country&#34;: &#34;Canada&#34;, &#34;time_position&#34;: 17012938...
	mimetype: application/json
	schema: FlightVector v0.1.0
	state: EventState.INITIALIZED
	created: 2023-11-29 15:37:57
Event:
	id: 0661t13aww0gxesq
	data: b&#39;{&#34;icao24&#34;: &#34;ad3add&#34;, &#34;callsign&#34;: &#34;N9511D  &#34;, &#34;origin_country&#34;: &#34;United States&#34;, &#34;time_position&#34;: 1...
	mimetype: application/json
	schema: FlightVector v0.1.0
	state: EventState.INITIALIZED
	created: 2023-11-29 15:37:57
Event:
	id: 0661t13ax40gxesr
	data: b&#39;{&#34;icao24&#34;: &#34;aa9dc1&#34;, &#34;callsign&#34;: &#34;XOJ783  &#34;, &#34;origin_country&#34;: &#34;United States&#34;, &#34;time_position&#34;: 1...
	mimetype: application/json
...
	mimetype: application/json
	schema: FlightVector v0.1.0
	state: EventState.INITIALIZED
	created: 2023-11-29 15:37:57
</code></pre><h2 id=customizing-queries>Customizing Queries</h2><p>There are many ways to customize queries. Here are some of the basics, but you can also check out the <a href=https://ensign.rotational.dev/ensql/syntax/>documentation</a> for more details and the latest features.</p><h3 id=filtering>Filtering</h3><p>Every event has a schema type and version, which is visible on the <code>event</code> itself or on the topic dashboard. You can filter on schema types and versions, e.g. to select directly from the <code>FlightVector</code> event type.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> flight<span style=color:#f92672>-</span>positions.FlightUpdate
</span></span></code></pre></div><h3 id=windowing>Windowing</h3><p>If the first event was in error and you don&rsquo;t want to process it, you can use the <code>OFFSET</code> keyword.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> flight<span style=color:#f92672>-</span>positions <span style=color:#66d9ef>OFFSET</span> <span style=color:#ae81ff>1</span>
</span></span></code></pre></div><p>Or if you want to specify a window of events, e.g. events 1 to 3, skipping event 0.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>FROM</span> flight<span style=color:#f92672>-</span>positions <span style=color:#66d9ef>OFFSET</span> <span style=color:#ae81ff>1</span> <span style=color:#66d9ef>LIMIT</span> <span style=color:#ae81ff>3</span>
</span></span></code></pre></div><h2 id=dataframes>DataFrames</h2><p>PyEnsign DataFrames are an additional way to serialize results from an enSQL query. They are particularly useful for things like batchwise data analytics or training traditional machine learning models. To use them, you need to install the [ml] extension.</p><pre tabindex=0><code>$ pip install pyensign[ml]
</code></pre><p>Then simply create the DataFrame from the query cursor.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> pyensign.ml.dataframe <span style=color:#f92672>import</span> DataFrame
</span></span><span style=display:flex><span>cursor <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> ensign<span style=color:#f92672>.</span>query(<span style=color:#e6db74>&#34;SELECT * FROM flight-positions&#34;</span>)
</span></span><span style=display:flex><span>df <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> DataFrame()<span style=color:#f92672>.</span>from_events(cursor)
</span></span><span style=display:flex><span>df<span style=color:#f92672>.</span>head()
</span></span></code></pre></div><p><img alt=&ldquo;DataFrame&rdquo; src=/img/blog/2023-12-08-pubsub-101---querying-topics/dataframe.png></p><p>By default, the columns are the keys in the data and the rows are the events, ordered by ID.</p><p>PyEnsign DataFrames have the same capabilities as <a href=https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html>pandas DataFrames</a>, so you can apply transformations to the columns, merge them, sample them, etc.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>df[<span style=color:#e6db74>&#39;origin_country&#39;</span>]<span style=color:#f92672>.</span>value_counts()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>origin_country
</span></span><span style=display:flex><span>United States           <span style=color:#ae81ff>75</span>
</span></span><span style=display:flex><span>Austria                  <span style=color:#ae81ff>4</span>
</span></span><span style=display:flex><span>Canada                   <span style=color:#ae81ff>4</span>
</span></span><span style=display:flex><span>Ireland                  <span style=color:#ae81ff>4</span>
</span></span><span style=display:flex><span>United Kingdom           <span style=color:#ae81ff>4</span>
</span></span><span style=display:flex><span>Portugal                 <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>Germany                  <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>Malta                    <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>Iraq                     <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>Spain                    <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>China                    <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>Poland                   <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>Hungary                  <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>United Arab Emirates     <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>Turkey                   <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>Ethiopia                 <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>Mexico                   <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>Republic of Korea        <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>Qatar                    <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>Egypt                    <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>Name: count, dtype: int64
</span></span></code></pre></div><h2 id=back-to-the-future>Back to the Future</h2><p>⭐🎉⭐ Congrats on completing PubSub101! ⭐🎉⭐</p><p>Now that you&rsquo;ve created a project with pub/sub dataflows, there&rsquo;s nothing stopping you from creating real-time applications. We can&rsquo;t wait to see what you do with Ensign! Don&rsquo;t hesitate to reach out to <a href=mailto:support@rotational.io>support@rotational.io</a> if you have further questions.</p><div class="border-t my-12"></div><p>Photo by Pangstu</p></article></div></div><div class="bg-[#E8EFF6] max-w-[800px] mx-auto mt-9 p-8 rounded-lg"><h3 class="font-bold text-xl sm:text-2xl lg:text-3xl text-center mb-3"><span class="text-[#1D65A6] font-bold">About </span>This Post</h3><p class="text-base mx-auto px-2 text-center lg:text-base">In this module you will query your Ensign topics using SQL-like syntax to get historic events. Great Scott, it's time travel!</p><div class="flex flex-col md:flex-row text-center mx-auto border-t pt-6 mt-6 align-center justify-between gap-10"><div class=lg:w-1/2><h2 class="text-lg text-[#1D65A6] font-bold mb-3">Written by:</h2><div class="flex items-center"><a href=/authors/patrick-deziel><img src=img/team/patrick-deziel.png alt class="mr-3 border-4 border-white rounded-full h-11 drop-shadow-lg">
</a><span class="flex flex-wrap"><a href=/authors/patrick-deziel class="lg:w-[20ch] mx-2">Patrick Deziel</a></span></div></div><div class=lg:w-1/2><h2 class="text-lg text-[#1D65A6] font-bold mb-3">Share this post:</h2><ul class="flex items-center justify-center gap-6 mt-4"><li><a onclick=shareByEmail() class=cursor-pointer><img src=img/email.png alt class="rounded-lg bg-white p-3"></a></li><li><a onclick=shareOnTwitterWithTitle() class=cursor-pointer><img src=img/twitter.png alt class="rounded-lg bg-white p-3"></a></li><li><a onclick=shareOnLinkedIn() class=cursor-pointer><img src=img/linkedin.png alt class="rounded-lg bg-white p-3"></a></li></ul></div></div></div><div class="relative max-w-7xl mx-auto px-4 sm:px-6"><div class="flex justify-between mt-12 sm:mt-24 items-center"><div class="flex items-center"><h2 class="font-bold text-2xl sm:text-4xl flex"><span class=text-[#1D65A6]>Recommended</span>
&nbsp;Rotations</h2></div><div><a href=/blog class="flex text-base sm:text-lg items-center font-bold text-[#1D65A6]"><span>View all</span>
<img src=img/arr-right.png alt class="h-4 ml-2"></a></div></div><div><ul class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:my-8"><li class="mt-6 bg-[#ECF6FF] rounded-xl"><div class="flex flex-col h-full"><a href=https://rotational.io/blog/pubsub-101---creating-a-subscriber/><img loading=lazy src=/img/blog/newspaper_hu6220840026560812615.webp alt class="rounded-t-xl object-cover" style=height:212px;width:100%></a><div class="px-4 pt-4"><ul class="flex flex-wrap"><li class="text-base font-bold text-[#1D65A6]"><a href=/tags/ensign>Ensign</a>,&nbsp;</li><li class="text-base font-bold text-[#1D65A6]"><a href=/tags/online-learning>Online Learning</a>,&nbsp;</li><li class="text-base font-bold text-[#1D65A6]"><a href=/tags/pubsub-101>PubSub 101</a></li></ul><div class="flex flex-col mt-4 h-full"><h3 class="text-xl font-extrabold sm:h-36"><a href=https://rotational.io/blog/pubsub-101---creating-a-subscriber/ class=block>PubSub 101 - Creating a Subscriber</a></h3><div class=mb-4><p class="my-4 sm:mt-auto">With the rise of LLMs and Retrieval Augmented Generation (RAG), online models have never been more relevant. Here&rsquo;s how to write some Python code to interpret real-time data and build your own adaptive online model.</p></div></div></div><div class="flex justify-between mt-auto items-center border-t px-4 py-3 h-16"><div class="flex items-center"><img loading=lazy src=/img/team/patrick-deziel_hu8906543757154920962.png alt class="rounded-full h-10 w-10"><ul class="flex flex-wrap ml-4"><li class=font-extralight><a href=/authors/patrick-deziel>Patrick Deziel</a></li></ul></div><div class=font-extralight>Dec 5, 2023</div></div></div></li><li class="mt-6 bg-[#ECF6FF] rounded-xl"><div class="flex flex-col h-full"><a href=https://rotational.io/blog/pubsub-101---creating-a-publisher/><img loading=lazy src=/img/blog/press_hu8932828718181748444.webp alt class="rounded-t-xl object-cover" style=height:212px;width:100%></a><div class="px-4 pt-4"><ul class="flex flex-wrap"><li class="text-base font-bold text-[#1D65A6]"><a href=/tags/ensign>Ensign</a>,&nbsp;</li><li class="text-base font-bold text-[#1D65A6]"><a href=/tags/ingestion>Ingestion</a>,&nbsp;</li><li class="text-base font-bold text-[#1D65A6]"><a href=/tags/pubsub-101>PubSub 101</a></li></ul><div class="flex flex-col mt-4 h-full"><h3 class="text-xl font-extrabold sm:h-36"><a href=https://rotational.io/blog/pubsub-101---creating-a-publisher/ class=block>PubSub 101 - Creating a Publisher</a></h3><div class=mb-4><p class="my-4 sm:mt-auto">One of the first steps in every data science or machine learning project is data ingestion. In this module, you will use Python to create a publisher to ingest real-time data into Ensign.</p></div></div></div><div class="flex justify-between mt-auto items-center border-t px-4 py-3 h-16"><div class="flex items-center"><img loading=lazy src=/img/team/patrick-deziel_hu8906543757154920962.png alt class="rounded-full h-10 w-10"><ul class="flex flex-wrap ml-4"><li class=font-extralight><a href=/authors/patrick-deziel>Patrick Deziel</a></li></ul></div><div class=font-extralight>Nov 28, 2023</div></div></div></li><li class="mt-6 bg-[#ECF6FF] rounded-xl"><div class="flex flex-col h-full"><a href=https://rotational.io/blog/pubsub-101---creating-data-flows-with-topics/><img loading=lazy src=/img/blog/waterfall_hu15540687701069089637.webp alt class="rounded-t-xl object-cover" style=height:212px;width:100%></a><div class="px-4 pt-4"><ul class="flex flex-wrap"><li class="text-base font-bold text-[#1D65A6]"><a href=/tags/ensign>Ensign</a>,&nbsp;</li><li class="text-base font-bold text-[#1D65A6]"><a href=/tags/data-streaming>Data Streaming</a>,&nbsp;</li><li class="text-base font-bold text-[#1D65A6]"><a href=/tags/pubsub-101>PubSub 101</a></li></ul><div class="flex flex-col mt-4 h-full"><h3 class="text-xl font-extrabold sm:h-36"><a href=https://rotational.io/blog/pubsub-101---creating-data-flows-with-topics/ class=block>PubSub 101 - Creating Data Flows With Topics</a></h3><div class=mb-4><p class="my-4 sm:mt-auto">If you struggle to build analytics and models that keep up with changing data, it might be because you haven&rsquo;t yet learned to think about data in terms of <code>topics</code>. In this module, learn how by solving a real-world, real-time problem!</p></div></div></div><div class="flex justify-between mt-auto items-center border-t px-4 py-3 h-16"><div class="flex items-center"><img loading=lazy src=/img/team/patrick-deziel_hu8906543757154920962.png alt class="rounded-full h-10 w-10"><ul class="flex flex-wrap ml-4"><li class=font-extralight><a href=/authors/patrick-deziel>Patrick Deziel</a></li></ul></div><div class=font-extralight>Nov 22, 2023</div></div></div></li></ul></div></div></div><div class="bg-[#1D65A6] max-w-[800px] mx-auto mt-20 py-8 px-12 md:px-16 text-white md:rounded-lg"><input type=hidden id=newsletterFormID value=8aeeb77b-a5e0-4772-b726-44e1fc2eb6e1><form action=blog method=post id=newsletterForm><h6 class="font-bold text-center">Enter Your Email To Subscribe</h6><div class="bg-teal-100 border-t-4 border-teal-500 mt-3 rounded-b text-teal-900 p-4 shadow-md hidden" id=newsletter-alert role=alert><div class=flex><div><p class=text-sm>Thank you for joining the Rotational Labs newsletter!</p></div></div></div><div id=newsletter-error class="hidden mt-3 bg-red-200 border-t-4 border-red-600 text-red-900 rounded-b p-4 shadow-md" role=alert><div><p class=text-sm>Your request did not go through, please try again. If you need immediate assistance, please email support@rotational.io.</p></div></div><label for=email class=hidden>Email</label>
<input type=text name=email id=email required placeholder class="w-full px-4 py-2.5 rounded-lg mt-6 text-black" style=color:#000><div class="flex mt-6 items-start gap-x-2"><input type=checkbox id=checkbox required name=consent class="mt-1 w-4 h-4 block border-0">
<label for=checkbox><span id=consentText>I want to receive the monthly newsletter and other updates from Rotational. You agree to our Privacy Policy. You may unsubscribe at any time.*</span></label></div><div class="flex justify-center"><button type=submit class="bg-[#192E5B] px-10 py-3 mt-8 rounded-lg text-sm text-white uppercase md:text-base hover:bg-[#192E5B]/80">
Submit</button></div></form></div></main><footer class="relative mt-40 md:mt-56 bg-[#192E5B]"><div class="relative w-full pt-36 md:pt-16 lg:pt-24 2xl:pt-20 font-extralight text-white"><div class="-mt-52 w-full mx-auto max-w-screen-xl px-4"><section class="bg-[#72A2C0] w-full p-6 md:py-20 md:px-16"><h2 class="my-4 text-2xl sm:text-3xl md:text-5xl text-white font-extrabold">LET'S ENVISION & BUILD THE FUTURE TOGETHER.</h2><div class=py-6><a href=/contact class="p-3 md:p-4 md:px-6 bg-[#2F4858] font-bold md:text-lg text-white text-center hover:bg-[#2F4858]/80">CONTACT US</a></div></section></div><div class="max-w-7xl mx-auto px-6"><div class="mt-12 flex flex-col md:flex-row lg:justify-between gap-x-8"><div class="my-4 max-w-xs"><h5 class="mb-3 font-extrabold">OUR PRESENCE</h5><p>We share because we care, about topics, tools, and technologies that we believe impact the AI economy.</p><div class=py-4><ul class="flex justify-between items-center gap-x-8"><li><a href=https://twitter.com/rotationalio target=_blank class=hover:text-[#1D65A6]><i class="text-2xl fa-brands fa-x-twitter"></i><p class=sr-only>Twitter</p></a></li><li><a href=https://www.linkedin.com/company/rotational target=_blank class=hover:text-[#1D65A6]><i class="text-2xl fa-brands fa-linkedin"></i><p class=sr-only>LinkedIn</p></a></li><li><a href=https://github.com/rotationalio target=_blank class=hover:text-[#1D65A6]><i class="text-2xl fa-brands fa-github"></i><p class=sr-only>GitHub</p></a></li><li><a href=https://www.youtube.com/@rotationalio target=_blank class=hover:text-[#1D65A6]><i class="text-2xl fa-brands fa-youtube"></i><p class=sr-only>YouTube</p></a></li><li><a href=https://www.twitch.tv/rotationallabs target=_blank class=hover:text-[#1D65A6]><i class="text-2xl fa-brands fa-twitch"></i><p class=sr-only>Twitch</p></a></li></ul></div></div><div class=my-4><h5 class="mb-3 font-extrabold">COMPANY</h5><ul><li class="pb-3 flex items-center gap-x-2"><i class="fa-solid fa-chevron-right text-[#757575] text-xs"></i>
<a href=/about>About Us</a></li><li class="pb-3 flex items-center gap-x-2"><i class="fa-solid fa-chevron-right text-[#757575] text-xs"></i>
<a href=/case-studies>Case Studies</a></li><li class="pb-3 flex items-center gap-x-2"><i class="fa-solid fa-chevron-right text-[#757575] text-xs"></i>
<a href=/endeavor>Endeavor</a></li><li class="pb-3 flex items-center gap-x-2"><i class="fa-solid fa-chevron-right text-[#757575] text-xs"></i>
<a href=/blog>Blog</a></li></ul></div><div class=my-4><h5 class="mb-3 font-extrabold">COMMUNITY</h5><ul><li class="pb-3 flex items-center gap-x-2"><i class="fa-solid fa-chevron-right text-[#757575] text-xs"></i>
<a href=/learning>Learning</a></li><li class="pb-3 flex items-center gap-x-2"><i class="fa-solid fa-chevron-right text-[#757575] text-xs"></i>
<a href=/opensource>Open Source</a></li></ul></div><div class=my-4><h5 class="mb-3 font-extrabold">CONTACT US</h5><ul><li class="flex items-baseline lg:items-center gap-x-2"><i class="fa-solid fa-map-marker-alt text-[#757575]"></i>
St. Paul, MN & Washington, DC</li><li class="flex items-baseline lg:items-center gap-x-2"><i class="fa-solid fa-envelope text-[#757575]"></i>
info@rotational.io</li></ul><div class=py-8><a href=/contact class="p-3 bg-[#ECF6FF] font-bold text-black text-center hover:bg-[#ECF6FF]/80">CONTACT US</a></div></div></div><div class="sm:flex justify-between py-6 border-t mt-4"><p>Copyright © Rotational Labs, Inc. 2021–2025 · All Rights Reserved</p><div><ul class="sm:mt-0 mt-4 flex gap-x-8"><li><a href=/privacy/>Privacy Policy</a></li><li><a href=/terms/>Terms of Use</a></li></ul></div></div></div></div></footer><script src=https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js></script><script src=https://rotational.io/js/blogSingle.js></script><script type=module src=https://rotational.io/js/newsletterForm.js></script></body></html>
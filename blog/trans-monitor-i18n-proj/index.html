<!doctype html><html lang=en-us><head><meta charset=UTF-8><title>Rotational Labs | Translation Monitoring for I18n Projects</title>
<base href=https://rotational.io/ target=_self><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Rotational Labs, Inc."><meta name=description content="I18n projects are hard to manage when apps and docs both get updated continuously. In this post we introduce a new tool to ease the pains of monitoring and make it easier to stay in sync with international audiences."><meta name=keywords content="ai for companies,ai software,ai consulting,ai solutions,ai development,enterprise ai,ai services,ai platform,ai applications,ai for business,artificial intelligence solutions,artificial intelligence consulting"><link type=text/plain rel=author href=https://rotational.io/humans.txt><meta property="og:title" content="Translation Monitoring for I18n Projects"><meta property="og:description" content="I18n projects are hard to manage when apps and docs both get updated continuously. In this post we introduce a new tool to ease the pains of monitoring and make it easier to stay in sync with international audiences."><meta property="og:image" content="https://rotational.io/img/blog/translations.jpeg"><meta property="og:url" content="https://rotational.io/blog/trans-monitor-i18n-proj/"><meta property="og:type" content="website"><meta name=twitter:title content="Translation Monitoring for I18n Projects"><meta name=twitter:card content="summary"><meta name=twitter:description content="I18n projects are hard to manage when apps and docs both get updated continuously. In this post we introduce a new tool to ease the pains of monitoring and make it easier to stay in sync with international audiences."><meta name=twitter:image content="https://rotational.io/img/blog/translations.jpeg"><link rel="shortcut icon" href=https://rotational.io/img/favicon.png type=image/x-icon><link rel=icon href=https://rotational.io/img/favicon.png type=image/x-icon><link rel=alternate type=application/rss+xml href=https://rotational.io//index.xml title="Recent Rotations of the Rotational Labs Blog"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css><link rel=stylesheet href=https://rotational.io/output.css media=screen><script type=text/javascript id=hs-script-loader async defer src=//js.hs-scripts.com/24168101.js></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("consent","default",{ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied",analytics_storage:"denied",functionality_storage:"denied",personalization_storage:"denied"});const hspConsent=window._hsp=window._hsp||[];hspConsent.push(["addPrivacyConsentListener",function(e){const s=e&&(e.allowed||e.categories&&e.categories.analytics),t=e&&(e.allowed||e.categories&&e.categories.advertisement),n=e&&(e.allowed||e.categories&&e.categories.functionality);gtag("consent","update",{ad_storage:t?"granted":"denied",ad_user_data:t?"granted":"denied",ad_personalization:t?"granted":"denied",analytics_storage:s?"granted":"denied",functionality_storage:n?"granted":"denied",personalization_storage:n?"granted":"denied"})}])</script><script src="https://www.googletagmanager.com/gtag/js?id=G-2FKX6CWJHW" async defer></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-2FKX6CWJHW")</script><script async defer src="https://www.google.com/recaptcha/enterprise.js?render=6Ld5O3kiAAAAAJU0z0h81X1RxEMHyoROe6KWe_vk"></script><script src></script></head><body><div class="relative bg-[#1D65A6]"><nav class="w-full max-w-7xl mx-auto px-4 sm:px-6 py-5" aria-label=Global><div class="relative max-w-7xl w-full flex flex-wrap lg:flex-nowrap items-center justify-between mx-auto"><a href=/><img src=/img/rototational-white-text-only_hu15583614935666962927.webp alt=Rotational class="h-6 w-auto">
</a><button data-collapse-toggle=navbar-dropdown type=button class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200" aria-controls=navbar-dropdown aria-expanded=false>
<span class=sr-only>Open main menu</span>
<i class="fa fa-bars text-xl text-white"></i></button><div class="hidden absolute z-[9999] lg:static top-16 w-[92%] md:w-[96%] lg:w-auto lg:block bg-white lg:bg-transparent text-[#192E5B] lg:text-[#F2F2F2] py-2 rounded-md" id=navbar-dropdown><ul class="flex flex-col lg:gap-2 xl:gap-4 md:flex-row font-semibold w-full md:justify-between"><li class="py-2 uppercase text-sm lg:text-[15px] xl:text-[17px]"><a class="px-3 py-3.5 hover:text-black" href=/about/>About</a></li><li class="py-2 uppercase text-sm lg:text-[15px] xl:text-[17px]"><button id=dropdownNavbarLink data-dropdown-toggle=dropdownNavbar class="uppercase flex items-center justify-between gap-x-2 w-full px-3 rounded md:border-0 md:p-0 md:w-auto hover:text-black">
Services
<i class="fa fa-angle-down pt-1"></i></button><div id=dropdownNavbar class="z-10 hidden font-normal bg-[#192E5B] divide-y divide-[#192E5B] rounded-lg shadow w-44"><ul class="py-2 text-sm text-[#F2F2F2]" aria-labelledby=dropdownLargeButton><li><a href=/services/ai-assessments/ class="block px-3 py-2 hover:font-bold">AI Assessments</a></li><li><a href=/services/ai-product-development/ class="block px-3 py-2 hover:font-bold">AI Product Development</a></li><li><a href=/services/ai-ops-and-data-foundations/ class="block px-3 py-2 hover:font-bold">AI Ops & Data Foundations</a></li></ul></div></li><li class="py-2 uppercase text-sm lg:text-[15px] xl:text-[17px]"><a class="px-3 py-3.5 hover:text-black" href=/case-studies>Case Studies</a></li><li class="py-2 uppercase text-sm lg:text-[15px] xl:text-[17px]"><a class="px-3 py-3.5 hover:text-black" href=/blog/>Blog</a></li><li class="py-2 uppercase text-sm lg:text-[15px] xl:text-[17px]"><a class="px-3 py-3.5 hover:text-black" href=/learning/>Learning</a></li><li class="py-2 uppercase text-sm lg:text-[15px] xl:text-[17px]"><a class="px-3 py-3.5 hover:text-black" href=https://rotational.ai>Product</a></li><li class="py-2 uppercase text-sm lg:text-[15px] xl:text-[17px]"><a class="px-3 py-3.5 hover:text-black" href=/contact/>Contact</a></li></ul></div></div></nav></div><main><div class="relative max-w-7xl mx-auto px-4 sm:px-6"><div class=mt-14><div class=blog-img><img src=/img/blog/translations_hu8284276541494026842.webp alt="Translation Monitoring for I18n Projects" class="mx-auto object-cover"></div><div class=mt-8><h3 class="font-bold text-xl sm:text-2xl lg:text-3xl text-center" data-blog-title="Translation Monitoring for I18n Projects"><b class=text-[#1D65A6]>Translation </b>Monitoring for I18n Projects</h3><div class="flex flex-wrap justify-center items-center my-6"><a href=/authors/tianshu-li><img src=img/team/tianshu-li.png alt class="mr-3 border-4 border-white rounded-full h-11 drop-shadow-lg">
</a><span><a href=/authors/tianshu-li>Tianshu Li</a> | Tuesday, Dec 7, 2021 |&nbsp;
</span><span><a href=/tags/i18n>i18n</a></span></div><article class="max-w-[800px] mx-auto prose mt-12"><p>Developing applications for global users usually requires an internationalization (i18n) process that translates contents or user messages into different languages. Given how manual these process tend to be, the more we can automate the better &ndash; for our sanity, for our wallets, and for our users. That&rsquo;s where Rumi comes in!</p><p>An i18n workflow can be seamlessly integrated with the application development workflow, so that source contents or messages can be easily extracted from the rest of the code base, sent to the translator or machine translated, and then compiled back into the code base for rendering the translated application. If this extract-translate-compile workflow is well integrated with other development workflows, it is much easier to get the translations updated or re-translated each time the source contents or messages get modified during development.</p><p>At Rotational, through our journey of developing globally distributed systems and translating our contents to accommodate global users, we encountered the need for continuous monitoring of our translation status, so that we can always know what contents still need to be translated, and if our translations are still up-to-date. For that goal, we developed <a href=https://github.com/rotationalio/rumi>Rumi</a>, an open-source Python package that can be integrated with your Github workflow, for translation status monitoring.</p><p>Rumi is inspired by tools such as <a href=https://formatjs.io/docs/react-intl/>react-intl</a> and <a href=https://lingui.js.org/index.html>Lingui.js</a> aiming to automate the extract and compile part for <a href=https://reactjs.org/>React app</a>. There are also translation platforms such as <a href=https://translation.io/lingui>translation.io</a> and <a href=https://localizejs.com/features/translator-tools>localize</a> that help bring translators together with developers to better collaborate on i18n projects.</p><p>Rumi looks at changes and timestamps from the git commit history, and compares timestamps of the source contents and translations to identify (re)translation needs. It can also be integrated with your i18n project as a Github action to inform you of these needs on every push or pull request.</p><p>Rumi currently supports two different workflows, for monitoring source contents in terms of either <strong>files</strong> or <strong>messages</strong>. The difference here is that files are longer pieces of content (e.g. <code>user-guide.md</code>) that may be partially updated, while the messages are sentences or phrases (e.g. user messages) that are always generated or revised in full. In this post, we will look at example usage for both file-based and messaged-based Rumi and see in more detail their monitoring outputs.</p><h2 id=file-based-translation-monitoring>File-based translation monitoring</h2><p>For the example usage of file-based translation monitoring, let&rsquo;s look at the i18n workflow for a Hugo static site project. Usually, the workflow can be simplified into the following steps, where steps 2-4 come in iterations while the source content is being continuously developed:</p><ol><li>Setup Hugo in <a href=https://gohugo.io/content-management/multilingual/>multilingual mode</a></li><li>Upload Source File</li><li>Send to Translator</li><li>Upload Translated File.</li></ol><p>Rumi integrates (usually via Github Actions) at steps 2 and 4, performing the following steps to read and report translation status:</p><p><img alt="Hugo Flow" src=/img/blog/hugo_flow.png>
<strong><div align=center>File-based translation flow exemplified with Hugo site</div></strong></p><p><em>Note: For more about setting up a Hugo site, check out the documentation about <a href=https://gohugo.io/content-management/multilingual/>Hugo in multilingual mode</a>.)</em></p><h4 id=1-create-a-filereader-object>1. Create a FileReader object</h4><p>First, create the <code>FileReader</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>reader <span style=color:#f92672>=</span> FileReader(
</span></span><span style=display:flex><span>        repo_path<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;.&#34;</span>,
</span></span><span style=display:flex><span>        branch<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;main&#34;</span>,
</span></span><span style=display:flex><span>        langs<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&#34;</span>,
</span></span><span style=display:flex><span>        content_paths<span style=color:#f92672>=</span>[<span style=color:#e6db74>&#34;content&#34;</span>],
</span></span><span style=display:flex><span>        extensions<span style=color:#f92672>=</span>[<span style=color:#e6db74>&#34;.md&#34;</span>],
</span></span><span style=display:flex><span>        pattern<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;folder/&#34;</span>,
</span></span><span style=display:flex><span>        src_lang<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;en&#34;</span>,
</span></span><span style=display:flex><span>        use_cache<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>
</span></span><span style=display:flex><span>    )
</span></span></code></pre></div><p>Parameters:</p><ul><li><code>repo_path</code>: Path to the repository for translation monitoring.</li><li><code>branch</code>: Name of the branch to read the github history from.</li><li><code>content_paths</code>: List of paths from the root of the repository to the directory that contains contents for translation, e.g., [&ldquo;content&rdquo;, &ldquo;data&rdquo;, &ldquo;i18n&rdquo;].</li><li><code>extensions</code>: List of extensions of the target files for translation monitoring.</li><li><code>pattern</code>: Two types of patterns in which the static site repository is organized: &ldquo;folder (organizing contents from each locale into one folder of the locale name, e.g. <code>en/filename.md</code>, <code>fr/filename.md)</code> and &ldquo;.lang&rdquo; (organizing contents from each locale by tagging the file name with the locale name, e.g. <code>filename.en.md</code>, <code>filename.fr.md)</code></li><li><code>langs</code>: Language codes joint by a white space as specified by the user. If not specified, FileReader will try to get languages from the filenames in the current repository for monitoring.</li><li><code>src_lang</code>: Default source language set by user.</li><li><code>use_cache</code>: Whether to use cached commit history data structure.</li></ul><h4 id=2-set-targets-for-translation>2. Set targets for translation</h4><p>If there are target files that cannot be captured by <code>content_paths</code> and <code>extensions</code>, you can also specify them by adding or deleting single filename.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>reader<span style=color:#f92672>.</span>add_target(filename)
</span></span><span style=display:flex><span>reader<span style=color:#f92672>.</span>del_target(filename)
</span></span></code></pre></div><h4 id=3-calculate-commits>3. Calculate commits</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>commits <span style=color:#f92672>=</span> reader<span style=color:#f92672>.</span>parse_history()       <span style=color:#75715e># commits: structured commit history</span>
</span></span></code></pre></div><h3 id=4-create-reporter>4. Create reporter</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>reporter <span style=color:#f92672>=</span> FileReporter(
</span></span><span style=display:flex><span>    repo_path<span style=color:#f92672>=</span>reader<span style=color:#f92672>.</span>repo_path,
</span></span><span style=display:flex><span>    src_lang<span style=color:#f92672>=</span>detail_src_lang,
</span></span><span style=display:flex><span>    tgt_lang<span style=color:#f92672>=</span>detail_tgt_lang
</span></span><span style=display:flex><span>)
</span></span></code></pre></div><p><code>src_lang</code>: Language code of the source language (the original language of contents) to be reported. If not specified, all source language will be reported.
<code>tgt_lang</code>: Language code of the target language (language to translate contents
into) to be reported. If not specified, all target language will be reported.</p><h4 id=5-report-stats-and-details>5. Report stats and details</h4><p>Rumi can display translation status in two modes, stats mode and details mode:</p><p>Stats mode displays the number of Open (hasn&rsquo;t been translated), Updated (source file has been updated after translation), Completed (source file has been translated for all target languages). E.g.:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>stats <span style=color:#f92672>=</span> reporter<span style=color:#f92672>.</span>get_stats(commits)
</span></span><span style=display:flex><span>reporter<span style=color:#f92672>.</span>print_stats(stats)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    | Target Language   |   Total |   Open |   Updated |   Completed |
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    |-------------------+---------+--------+-----------+-------------|
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    | fr                |       0 |      0 |         0 |           0 |
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    | en                |       1 |      0 |         0 |           1 |
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    | ja                |       1 |      1 |         0 |           0 |
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;&#34;</span>
</span></span></code></pre></div><p>Details mode displays translation work required for each target file together with more details. E.g.:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>details <span style=color:#f92672>=</span> reporter<span style=color:#f92672>.</span>get_details(commits)
</span></span><span style=display:flex><span>reporter<span style=color:#f92672>.</span>print_details(details)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>| File    | Status    | Source Language | Word Count | Target Language | Percent Completed | Percent Updated |
</span></span></span><span style=display:flex><span><span style=color:#e6db74>|---------+-----------+-----------------+------------+-----------------+-------------------+-----------------|
</span></span></span><span style=display:flex><span><span style=color:#e6db74>| file.md | completed | fr              |          4 | en              | 100.0%            | 0%              |
</span></span></span><span style=display:flex><span><span style=color:#e6db74>| file.md | updated   | fr              |          4 | zh              | 50.0%             | 50.0%           |
</span></span></span><span style=display:flex><span><span style=color:#e6db74>| file.md | open      | fr              |          4 | ja              | 0%                | 100.0%          |
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;&#34;</span>
</span></span></code></pre></div><p>Here <code>Word Count</code> reports number of words in the source file. <code>Percent Completed</code> is estimated by number of lines in the translation file divided by that in the source file. <code>Percent Updated</code> is number of lines inserted in the source file since the latest edit of the translation file.</p><h2 id=message-based-translation-monitoring>Message-based translation monitoring</h2><p>Rumi also supports message-based translation monitoring for React apps that are set up with <code>Lingui.js</code>. The figure below illustrates the i18n workflow in such setting. This setting requires minimal changes in common UI dev (just wrap user messages as instructed). Once setup, the <code>extract</code> command can easily isolate these language-dependent messages from the rest of the code base into one separate file for each language, and the <code>compile</code> command will integrate translations back. Here are some additional resources for getting set up with Lingui on your React project:</p><ul><li>UI Dev: Setup Lingui.js<ul><li>Installation: <a href=https://lingui.js.org/tutorials/setup-react.html>Setup Lingui with React project</a></li><li>Wrap Messages: Wrap UI text message according to <a href=https://lingui.js.org/tutorials/react-patterns.html>Lingui patterns</a></li></ul></li><li>Lingui Extract: <code>npm run extract</code> or <code>yarn extract</code></li><li>Lingui Compile: <code>npm run compile</code> or <code>yarn compile</code></li></ul><p><img src=/img/blog/react_flow.png>
<strong><div align=center>Message-based translation flow exemplified with React App</div></strong></p><p>At <code>Lingui Extract</code> and <code>Lingui Compile</code>, Rumi will perform similar steps for monitoring the translation status:</p><h4 id=1-create-the-msgreader-object>1. Create the MsgReader object</h4><p>First, create the <code>MsgReader</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>reader <span style=color:#f92672>=</span> MsgReader(
</span></span><span style=display:flex><span>    repo_path<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;.&#34;</span>,
</span></span><span style=display:flex><span>    branch<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;main&#34;</span>,
</span></span><span style=display:flex><span>    content_paths<span style=color:#f92672>=</span>[<span style=color:#e6db74>&#34;locales&#34;</span>],
</span></span><span style=display:flex><span>    extensions<span style=color:#f92672>=</span>[<span style=color:#e6db74>&#34;.po&#34;</span>],
</span></span><span style=display:flex><span>    src_lang<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;en&#34;</span>,
</span></span><span style=display:flex><span>    use_cache<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>
</span></span><span style=display:flex><span>    )
</span></span></code></pre></div><h4 id=2-set-the-targets-for-translation>2. Set the targets for translation</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>reader<span style=color:#f92672>.</span>add_target(filename)
</span></span><span style=display:flex><span>reader<span style=color:#f92672>.</span>del_target(filename)
</span></span></code></pre></div><h4 id=3-calculate-commits-1>3. Calculate commits</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>commits <span style=color:#f92672>=</span> reader<span style=color:#f92672>.</span>parse_history()
</span></span></code></pre></div><h4 id=4-create-reporter-1>4. Create reporter</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>reporter <span style=color:#f92672>=</span> MsgReporter()
</span></span></code></pre></div><h4 id=5-report-stats-and-details-1>5. Report stats and details</h4><p>Messaged-based Rumi also supports reporting translation status in stats mode and details mode.</p><p>Stats mode prints out a summary of the translation status.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>stats <span style=color:#f92672>=</span> reporter<span style=color:#f92672>.</span>get_stats(commits, src_lang)
</span></span><span style=display:flex><span>reporter<span style=color:#f92672>.</span>print_stats(stats)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    | Language   |   Total |   Open |   Updated |   Completed |
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    |------------+---------+--------+-----------+-------------|
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    | en         |       2 |      0 |         0 |           0 |
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    | fr         |       2 |      1 |         1 |           0 |
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    | ja         |       2 |      0 |         1 |           1 |
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;&#34;</span>
</span></span></code></pre></div><p>Detail mode prints out the details of messages needing translations for each language and provides word count, which can be helpful for determining thresholds for when to have content re-translated.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>details <span style=color:#f92672>=</span> reporter<span style=color:#f92672>.</span>get_details(commits, src_lang)
</span></span><span style=display:flex><span>reporter<span style=color:#f92672>.</span>print_details(details)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    ----------------------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    ja Open: 2
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    msgid1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    msgid2
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    ----------------------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    zh Open: 0
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    ----------------------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    de Open: 0
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    ----------------------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    fr Open: 1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    msgid1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    ----------------------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    en Open: 0
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    ----------------------------------------------------------------------
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;&#34;</span>
</span></span></code></pre></div><h4 id=diff-the-extracted-file>Diff the extracted file</h4><p>Note that Lingui.js organize all messages and their translations by languages. Messages and translations in each language are stored in a single file. To get the newly inserted messages,</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>reporter<span style=color:#f92672>.</span>download_needs(details, lang, path<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;.&#34;</span>)
</span></span></code></pre></div><p>To integrate new translations back into the existing ones,</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>reporter<span style=color:#f92672>.</span>insert_translations(<span style=color:#e6db74>&#34;new_translations.txt&#34;</span>, <span style=color:#e6db74>&#34;old_messages.po&#34;</span>)
</span></span></code></pre></div><h2 id=github-action>Github Action</h2><p>To setup your repository with a Rumi Github action so that stats and details are automated on push, include the following code in <code>.github/workflow/rumi.yaml</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>Rumi translation monitoring</span>
</span></span><span style=display:flex><span><span style=color:#f92672>on</span>: <span style=color:#ae81ff>push</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>rumi</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-latest</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Clone target repository</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          git clone [url of the target repository]</span>          
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Run Action</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>tl6kk/rumi_action@main</span> <span style=color:#75715e># to be changed after rumi publication</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>which_rumi</span>: <span style=color:#e6db74>&#34;file&#34;</span> <span style=color:#75715e># &#34;file&#34; for file-based or &#34;msg&#34; for message-based</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>repo_path</span>: <span style=color:#e6db74>&#34;path_to_repo&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>branch</span>: <span style=color:#e6db74>&#34;main&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>content_paths</span>: <span style=color:#e6db74>&#34;content1, content2, content3&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>extensions</span>: <span style=color:#e6db74>&#34;.md, .txt&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>target_files</span>: <span style=color:#e6db74>&#34;target1, target2, target3&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>pattern</span>: <span style=color:#e6db74>&#34;folder/&#34;</span> <span style=color:#75715e># &#34;folder/&#34; or &#34;.lang&#34; depending on the setup of file-based project</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>langs</span>: <span style=color:#e6db74>&#34;en fr zh ja&#34;</span> <span style=color:#75715e># You can specify the languages to monitor with language codes</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>src_lang</span>: <span style=color:#e6db74>&#34;en&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>detail_src_lang</span>: <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>detail_tgt_lang</span>: <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>stats_mode</span>: <span style=color:#e6db74>&#34;True&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>details_mode</span>: <span style=color:#e6db74>&#34;True&#34;</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>use_cache</span>: <span style=color:#e6db74>&#34;True&#34;</span>
</span></span></code></pre></div><h2 id=conclusion>Conclusion</h2><p>Although managing the dynamic, iterative i18n workflow is challenging, we believe that automation tools like Rumi can help simplify the steps, so that you can focus more on the development of applications and contents. In the future, we hope to extend Rumi to support the monitoring of other project platforms so that all applications can engage the global users they deserve.</p></article></div></div><div class="bg-[#E8EFF6] max-w-[800px] mx-auto mt-9 p-8 rounded-lg"><h3 class="font-bold text-xl sm:text-2xl lg:text-3xl text-center mb-3"><span class="text-[#1D65A6] font-bold">About </span>This Post</h3><p class="text-base mx-auto px-2 text-center lg:text-base">I18n projects are hard to manage when apps and docs both get updated continuously. In this post we introduce a new tool to ease the pains of monitoring and make it easier to stay in sync with international audiences.</p><div class="flex flex-col md:flex-row text-center mx-auto border-t pt-6 mt-6 align-center justify-between gap-10"><div class=lg:w-1/2><h2 class="text-lg text-[#1D65A6] font-bold mb-3">Written by:</h2><div class="flex items-center"><a href=/authors/tianshu-li><img src=img/team/tianshu-li.png alt class="mr-3 border-4 border-white rounded-full h-11 drop-shadow-lg">
</a><span class="flex flex-wrap"><a href=/authors/tianshu-li class="lg:w-[20ch] mx-2">Tianshu Li</a></span></div></div><div class=lg:w-1/2><h2 class="text-lg text-[#1D65A6] font-bold mb-3">Share this post:</h2><ul class="flex items-center justify-center gap-6 mt-4"><li><a onclick=shareByEmail() class=cursor-pointer><img src=img/email.png alt class="rounded-lg bg-white p-3"></a></li><li><a onclick=shareOnTwitterWithTitle() class=cursor-pointer><img src=img/twitter.png alt class="rounded-lg bg-white p-3"></a></li><li><a onclick=shareOnLinkedIn() class=cursor-pointer><img src=img/linkedin.png alt class="rounded-lg bg-white p-3"></a></li></ul></div></div></div><div class="relative max-w-7xl mx-auto px-4 sm:px-6"><div class="flex justify-between mt-12 sm:mt-24 items-center"><div class="flex items-center"><h2 class="font-bold text-2xl sm:text-4xl flex"><span class=text-[#1D65A6]>Recommended</span>
&nbsp;Rotations</h2></div><div><a href=/blog class="flex text-base sm:text-lg items-center font-bold text-[#1D65A6]"><span>View all</span>
<img src=img/arr-right.png alt class="h-4 ml-2"></a></div></div><div><ul class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:my-8"><li class="mt-6 bg-[#ECF6FF] rounded-xl"><div class="flex flex-col h-full"><a href=https://rotational.io/blog/fake-it-when-you-make-it/><img loading=lazy src=/img/blog/lake_reflection_hu7893191061642865766.webp alt class="rounded-t-xl object-cover" style=height:212px;width:100%></a><div class="px-4 pt-4"><ul class="flex flex-wrap"><li class="text-base font-bold text-[#1D65A6]"><a href=/tags/programming>Programming</a>,&nbsp;</li><li class="text-base font-bold text-[#1D65A6]"><a href=/tags/mocks>Mocks</a>,&nbsp;</li><li class="text-base font-bold text-[#1D65A6]"><a href=/tags/golang>Golang</a></li></ul><div class="flex flex-col mt-4 h-full"><h3 class="text-xl font-extrabold sm:h-36"><a href=https://rotational.io/blog/fake-it-when-you-make-it/ class=block>Fake It When You Make It: Creating Mocks in Go</a></h3><div class=mb-4><p class="my-4 sm:mt-auto">In the age of microservices and containerized applications, software is less monolithic and more interdependent. How do we write tests which account for this new reality? One common strategy is to create mocks for services. In this post, …</p></div></div></div><div class="flex justify-between mt-auto items-center border-t px-4 py-3 h-16"><div class="flex items-center"><img loading=lazy src=/img/team/patrick-deziel_hu8906543757154920962.png alt class="rounded-full h-10 w-10"><ul class="flex flex-wrap ml-4"><li class=font-extralight><a href=/authors/patrick-deziel>Patrick Deziel</a></li></ul></div><div class=font-extralight>Dec 6, 2021</div></div></div></li><li class="mt-6 bg-[#ECF6FF] rounded-xl"><div class="flex flex-col h-full"><a href=https://rotational.io/blog/why-devs-dont-translate/><img loading=lazy src=/img/blog/hubble_tarantula_nebula_hu7413201363583107755.webp alt class="rounded-t-xl object-cover" style=height:212px;width:100%></a><div class="px-4 pt-4"><ul class="flex flex-wrap"><li class="text-base font-bold text-[#1D65A6]"><a href=/tags/i18n>i18n</a></li></ul><div class="flex flex-col mt-4 h-full"><h3 class="text-xl font-extrabold sm:h-36"><a href=https://rotational.io/blog/why-devs-dont-translate/ class=block>Why Developers Don't Translate The Docs</a></h3><div class=mb-4><p class="my-4 sm:mt-auto">Stars, forks, likes, upvotes, downloads. In a world where user metrics rule, why don&rsquo;t more technical projects translate their docs to reach more global users?</p></div></div></div><div class="flex justify-between mt-auto items-center border-t px-4 py-3 h-16"><div class="flex items-center"><img loading=lazy src=/img/team/rebecca-bilbro_hu805534418946307216.png alt class="rounded-full h-10 w-10"><ul class="flex flex-wrap ml-4"><li class=font-extralight><a href=/authors/rebecca-bilbro>Rebecca Bilbro</a></li></ul></div><div class=font-extralight>Oct 21, 2021</div></div></div></li><li class="mt-6 bg-[#ECF6FF] rounded-xl"><div class="flex flex-col h-full"><a href=https://rotational.io/blog/cant-read-wont-buy/><img loading=lazy src=/img/blog/2021-04-27-cant-read-wont-buy/streetblur_hu8046752137468781529.webp alt class="rounded-t-xl object-cover" style=height:212px;width:100%></a><div class="px-4 pt-4"><ul class="flex flex-wrap"><li class="text-base font-bold text-[#1D65A6]"><a href=/tags/i18n>i18n</a></li></ul><div class="flex flex-col mt-4 h-full"><h3 class="text-xl font-extrabold sm:h-36"><a href=https://rotational.io/blog/cant-read-wont-buy/ class=block>Can't Read, Won't Buy</a></h3><div class=mb-4><p class="my-4 sm:mt-auto">To say we are not at our most empowered when trying to communicate in an unfamiliar language is a bit of an understatement. As if the limitations of one&rsquo;s own language weren&rsquo;t bad enough, trying to get along in a different …</p></div></div></div><div class="flex justify-between mt-auto items-center border-t px-4 py-3 h-16"><div class="flex items-center"><img loading=lazy src=/img/team/rebecca-bilbro_hu805534418946307216.png alt class="rounded-full h-10 w-10"><ul class="flex flex-wrap ml-4"><li class=font-extralight><a href=/authors/rebecca-bilbro>Rebecca Bilbro</a></li></ul></div><div class=font-extralight>Apr 27, 2021</div></div></div></li></ul></div></div></div><div class="bg-[#1D65A6] max-w-[800px] mx-auto mt-20 py-8 px-12 md:px-16 text-white md:rounded-lg"><input type=hidden id=newsletterFormID value=8aeeb77b-a5e0-4772-b726-44e1fc2eb6e1><form action=newsletter method=post id=newsletterForm><h6 class="font-bold text-center">Enter Your Email To Subscribe</h6><div class="bg-teal-100 border-t-4 border-teal-500 mt-3 rounded-b text-teal-900 p-4 shadow-md hidden" id=newsletter-alert role=alert><div class=flex><div><p class=text-sm>Thank you for joining the Rotational Labs newsletter!</p></div></div></div><div id=newsletter-error class="hidden mt-3 bg-red-200 border-t-4 border-red-600 text-red-900 rounded-b p-4 shadow-md" role=alert><div><p class=text-sm>Your request did not go through, please try again. If you need immediate assistance, please email support@rotational.io.</p></div></div><label for=email class=hidden>Email</label>
<input type=text name=email id=email required placeholder class="w-full px-4 py-2.5 rounded-lg mt-6 text-black" style=color:#000><div class="flex mt-6 items-start gap-x-2"><input type=checkbox id=checkbox required name=consent class="mt-1 w-4 h-4 block border-0">
<label for=checkbox><span id=consentText>I want to receive the monthly newsletter and other updates from Rotational. You agree to our Privacy Policy. You may unsubscribe at any time.*</span></label></div><div class="flex justify-center"><button id=newsletter-bttn type=submit data-sitekey=6Ld5O3kiAAAAAJU0z0h81X1RxEMHyoROe6KWe_vk data-action=newsletter class="bg-[#192E5B] px-10 py-3 mt-8 rounded-lg text-sm text-white uppercase md:text-base hover:bg-[#192E5B]/80">
Submit</button></div></form></div></main><footer class="relative mt-40 md:mt-56 bg-[#192E5B]"><div class="relative w-full pt-36 md:pt-16 lg:pt-24 2xl:pt-20 font-extralight text-white"><div class="-mt-52 w-full mx-auto max-w-screen-xl px-4"><section class="bg-[#72A2C0] w-full p-6 md:py-20 md:px-16"><h2 class="my-4 text-2xl sm:text-3xl md:text-5xl text-white font-extrabold">LET'S ENVISION & BUILD THE FUTURE TOGETHER.</h2><div class=py-6><a href=/contact class="p-3 md:p-4 md:px-6 bg-[#2F4858] font-bold md:text-lg text-white text-center hover:bg-[#2F4858]/80">CONTACT US</a></div></section></div><div class="max-w-7xl mx-auto px-6"><div class="mt-12 flex flex-col md:flex-row lg:justify-between gap-x-8"><div class="my-4 max-w-xs"><h5 class="mb-3 font-extrabold">OUR PRESENCE</h5><p>We share because we care, about topics, tools, and technologies that we believe impact the AI economy.</p><div class=py-4><ul class="flex justify-between items-center gap-x-8"><li><a href=https://twitter.com/rotationalio target=_blank class=hover:text-[#1D65A6]><i class="text-2xl fa-brands fa-x-twitter"></i><p class=sr-only>Twitter</p></a></li><li><a href=https://www.linkedin.com/company/rotational target=_blank class=hover:text-[#1D65A6]><i class="text-2xl fa-brands fa-linkedin"></i><p class=sr-only>LinkedIn</p></a></li><li><a href=https://github.com/rotationalio target=_blank class=hover:text-[#1D65A6]><i class="text-2xl fa-brands fa-github"></i><p class=sr-only>GitHub</p></a></li><li><a href=https://www.youtube.com/@rotationalio target=_blank class=hover:text-[#1D65A6]><i class="text-2xl fa-brands fa-youtube"></i><p class=sr-only>YouTube</p></a></li><li><a href=https://www.twitch.tv/rotationallabs target=_blank class=hover:text-[#1D65A6]><i class="text-2xl fa-brands fa-twitch"></i><p class=sr-only>Twitch</p></a></li></ul></div></div><div class=my-4><h5 class="mb-3 font-extrabold">COMPANY</h5><ul><li class="pb-3 flex items-center gap-x-2"><i class="fa-solid fa-chevron-right text-[#757575] text-xs"></i>
<a href=/about>About Us</a></li><li class="pb-3 flex items-center gap-x-2"><i class="fa-solid fa-chevron-right text-[#757575] text-xs"></i>
<a href=/case-studies>Case Studies</a></li><li class="pb-3 flex items-center gap-x-2"><i class="fa-solid fa-chevron-right text-[#757575] text-xs"></i>
<a href=https://rotational.ai>Endeavor</a></li><li class="pb-3 flex items-center gap-x-2"><i class="fa-solid fa-chevron-right text-[#757575] text-xs"></i>
<a href=/blog>Blog</a></li></ul></div><div class=my-4><h5 class="mb-3 font-extrabold">COMMUNITY</h5><ul><li class="pb-3 flex items-center gap-x-2"><i class="fa-solid fa-chevron-right text-[#757575] text-xs"></i>
<a href=/learning>Learning</a></li><li class="pb-3 flex items-center gap-x-2"><i class="fa-solid fa-chevron-right text-[#757575] text-xs"></i>
<a href=/opensource>Open Source</a></li></ul></div><div class=my-4><h5 class="mb-3 font-extrabold">CONTACT US</h5><ul><li class="flex items-baseline lg:items-center gap-x-2"><i class="fa-solid fa-map-marker-alt text-[#757575]"></i>
St. Paul, MN & Washington, DC</li><li class="flex items-baseline lg:items-center gap-x-2"><i class="fa-solid fa-envelope text-[#757575]"></i>
info@rotational.io</li></ul><div class=py-8><a href=/contact class="p-3 bg-[#ECF6FF] font-bold text-black text-center hover:bg-[#ECF6FF]/80">CONTACT US</a></div></div></div><div class="sm:flex justify-between py-6 border-t mt-4"><p>Copyright © Rotational Labs, Inc. 2021–2025 · All Rights Reserved</p><div><ul class="sm:mt-0 mt-4 flex gap-x-8"><li><a href=/privacy/>Privacy Policy</a></li><li><a href=/terms/>Terms of Use</a></li><li><button id=hs_show_banner_button type=button onclick='(()=>{const e=window._hsp=window._hsp||[];e.push(["showBanner"])})()'>
Manage Cookies</button></li></ul></div></div></div></div></footer><script src=https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js></script><script src=https://rotational.io/js/blogSingle.js></script><script type=module src=https://rotational.io/js/newsletterForm.js></script></body></html>
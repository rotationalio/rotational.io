<!doctype html><html lang=en-us><head><meta charset=UTF-8><title>Rotational Labs | Building a Raft (Part 3)</title>
<base href=https://rotational.io/ target=_self><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Rotational Labs, Inc."><meta name=description content="In the third and final part of our series on the Raft consensus algorithm we'll wrap up by going over leader election."><meta name=keywords content="ai for companies,ai software,ai consulting,ai solutions,ai development,enterprise ai,ai services,ai platform,ai applications,ai for business,artificial intelligence solutions,artificial intelligence consulting"><link type=text/plain rel=author href=https://rotational.io/humans.txt><meta property="og:title" content="Building a Raft (Part 3)"><meta property="og:description" content="In the third and final part of our series on the Raft consensus algorithm we'll wrap up by going over leader election."><meta property="og:image" content="https://rotational.io/img/blog/2023-02-07-building-a-raft-part-3/otterRaftThree.png"><meta property="og:url" content="https://rotational.io/blog/building-a-raft-part-3/"><meta property="og:type" content="website"><meta name=twitter:title content="Building a Raft (Part 3)"><meta name=twitter:card content="summary"><meta name=twitter:description content="In the third and final part of our series on the Raft consensus algorithm we'll wrap up by going over leader election."><meta name=twitter:image content="https://rotational.io/img/blog/2023-02-07-building-a-raft-part-3/otterRaftThree.png"><link rel="shortcut icon" href=https://rotational.io/img/favicon.png type=image/x-icon><link rel=icon href=https://rotational.io/img/favicon.png type=image/x-icon><link rel=alternate type=application/rss+xml href=https://rotational.io//index.xml title="Recent Rotations of the Rotational Labs Blog"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css><link rel=stylesheet href=https://rotational.io/output.css media=screen><script type=text/javascript id=hs-script-loader async defer src=//js.hs-scripts.com/24168101.js></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("consent","default",{ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied",analytics_storage:"denied",functionality_storage:"denied",personalization_storage:"denied"});const hspConsent=window._hsp=window._hsp||[];hspConsent.push(["addPrivacyConsentListener",function(e){const s=e&&(e.allowed||e.categories&&e.categories.analytics),t=e&&(e.allowed||e.categories&&e.categories.advertisement),n=e&&(e.allowed||e.categories&&e.categories.functionality);gtag("consent","update",{ad_storage:t?"granted":"denied",ad_user_data:t?"granted":"denied",ad_personalization:t?"granted":"denied",analytics_storage:s?"granted":"denied",functionality_storage:n?"granted":"denied",personalization_storage:n?"granted":"denied"})}])</script><script src="https://www.googletagmanager.com/gtag/js?id=G-2FKX6CWJHW" async defer></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-2FKX6CWJHW")</script><script async defer src="https://www.google.com/recaptcha/enterprise.js?render=6Ld5O3kiAAAAAJU0z0h81X1RxEMHyoROe6KWe_vk"></script><script src></script></head><body><div class="relative bg-[#1D65A6]"><nav class="w-full max-w-7xl mx-auto px-4 sm:px-6 py-5" aria-label=Global><div class="relative max-w-7xl w-full flex flex-wrap lg:flex-nowrap items-center justify-between mx-auto"><a href=/><img src=/img/rototational-white-text-only_hu15583614935666962927.webp alt=Rotational class="h-6 w-auto">
</a><button data-collapse-toggle=navbar-dropdown type=button class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200" aria-controls=navbar-dropdown aria-expanded=false>
<span class=sr-only>Open main menu</span>
<i class="fa fa-bars text-xl text-white"></i></button><div class="hidden absolute z-[9999] lg:static top-16 w-[92%] md:w-[96%] lg:w-auto lg:block bg-white lg:bg-transparent text-[#192E5B] lg:text-[#F2F2F2] py-2 rounded-md" id=navbar-dropdown><ul class="flex flex-col lg:gap-2 xl:gap-4 md:flex-row font-semibold w-full md:justify-between"><li class="py-2 uppercase text-sm lg:text-[15px] xl:text-[17px]"><a class="px-3 py-3.5 hover:text-black" href=https://rotational.ai>Product</a></li><li class="py-2 uppercase text-sm lg:text-[15px] xl:text-[17px]"><a class="px-3 py-3.5 hover:text-black" href=/about/>About</a></li><li class="py-2 uppercase text-sm lg:text-[15px] xl:text-[17px]"><a class="px-3 py-3.5 hover:text-black" href=/case-studies>Case Studies</a></li><li class="py-2 uppercase text-sm lg:text-[15px] xl:text-[17px]"><a class="px-3 py-3.5 hover:text-black" href=/blog/>Blog</a></li><li class="py-2 uppercase text-sm lg:text-[15px] xl:text-[17px]"><a class="px-3 py-3.5 hover:text-black" href=/learning/>Learning</a></li><li class="py-2 uppercase text-sm lg:text-[15px] xl:text-[17px]"><a class="px-3 py-3.5 hover:text-black" href=/contact/>Contact</a></li></ul></div></div></nav></div><main><div class="relative max-w-7xl mx-auto px-4 sm:px-6"><div class=mt-14><div class=blog-img><img src=/img/blog/2023-02-07-building-a-raft-part-3/otterRaftThree_hu405263572812390978.webp alt="Building a Raft (Part 3)" class="mx-auto object-cover"></div><div class=mt-8><h3 class="font-bold text-xl sm:text-2xl lg:text-3xl text-center" data-blog-title="Building a Raft (Part 3)"><b class=text-[#1D65A6]>Building </b>a Raft (Part 3)</h3><div class="flex flex-wrap justify-center items-center my-6"><a href=/authors/daniel-sollis><img src=img/team/daniel-sollis.png alt class="mr-3 border-4 border-white rounded-full h-11 drop-shadow-lg">
</a><span><a href=/authors/daniel-sollis>Daniel Sollis</a> | Tuesday, Feb 14, 2023 |&nbsp;
</span><span><a href=/tags/distributed-systems>Distributed Systems</a></span></div><article class="max-w-[800px] mx-auto prose mt-12"><p>In the third and final part of our series exploring the popular consensus algorithm we&rsquo;ll finally explore how Raft handles leader election, and in doing so discover how Raft is so incredibly resilient.</p><p>If you missed <a href=https://rotational.io/blog/building-a-raft-part-1/>part 1</a> or <a href=https://rotational.io/blog/building-a-raft-part-2/>part 2</a>, check those out first!</p><h2 id=follow-the-leader>Follow the Leader</h2><p>In the last post, we broke down the <code>AppendEntries</code> RPC, focusing on how Raft ensures safety in log replication. When implementing Raft, be extra careful that you get <code>AppendEntries</code> right, because bugs can end up overwriting data or introduce a fork, where two nodes in the system diverge and produce entirely different sets of changes in their databases. Yikes!</p><p>There&rsquo;s one final thing we need to cover about <code>AppendEntries</code> that will be very important for safety, which is <strong>leader election</strong>.</p><p>Raft is a leader-oriented consensus protocol (other single leader protocols include Paxos and <a href=http://cs.yale.edu/homes/thomson/publications/calvin-sigmod12.pdf>Calvin</a>). Some protocols like <a href=https://www.cs.cmu.edu/~dga/papers/epaxos-sosp2013.pdf>ePaxos</a> and <a href=http://mdcc.cs.berkeley.edu/mdcc.pdf>MDCC</a> approach commits optimistically, as in, they hope for the best — assuming it&rsquo;s relatively unlikely that two different clients will attempt to update the same key concurrently, and that dealing with conflict is a special case that can usually be avoided. That&rsquo;s a big performance opportunity because you can let independent parts of the system make decisions at the same time, rather than having to wait to agree on every single thing first.</p><p>As leader-driven protocols, Raft and Paxos are pessimistic, assuming that conflict is sufficiently likely to require a single decision-maker to avoid them. However, it&rsquo;s important to keep in mind that Raft and Paxos expect routine leader turnover — just because Alpha was the leader 5 minutes ago doesn&rsquo;t mean we can assume Alpha is still the leader. Why not? Because distributed systems experience failure all time, and it&rsquo;s entirely possible that Alpha has crashed in the last 5 minutes.</p><p>So how do you know when the leader is dead?</p><h2 id=heartbeats>Heartbeats</h2><p>We mentioned in part 2 that the leader in Raft periodically sends out &ldquo;heartbeats&rdquo; to let the followers know that it is still alive and well. This happens to be done using <code>AppendEntries</code>. If a follower receives a typical <code>AppendEntries</code> request from the leader it can consider that a heartbeat from the leader, but we can’t simply rely on those alone. If a leader doesn’t receive requests from clients then there would be no heartbeats!</p><p>Instead, a leader periodically (say, every <code>n</code> seconds or so) will send an <code>AppendEntry</code> request without any new log entries to all of the followers. Followers can then tell this is a heartbeat from the leader and reset their election timeout, preventing a new election and therefore a new term. Speaking of which, it’s time to move on to the final RPC in Raft.</p><h2 id=introducing-leader-election>Introducing Leader Election</h2><p>Leader election in Raft is handled by the <code>RequestVote</code> RPC. First off, remember at the start of this series we mentioned that there are three states that a Raft server can be in: Leader, Candidate and Follower. We haven’t talked about the candidate state yet because this is where it actually comes into play.</p><p><img alt="&ldquo;State change flowchart&rdquo;" src=/img/blog/2023-02-07-building-a-raft-part-3/stateChanges.png></p><p>If a Raft server does not receive any communication from the leader (heartbeat or regular requests) for a given amount of time, it will assume the leader has died and will start a campaign to become the new leader, incrementing its term, voting for itself and sending <code>RequestVote</code> RPCs to the other servers in the cluster. If it receives a majority of the cluster’s votes, it declares itself leader and starts sending out heartbeats. Luckily for us, the <code>RequestVote</code> RPC ends up being much simpler than <code>AppendEntries</code>, but we should still spend some time stepping through it.</p><h2 id=requestvote-steps>RequestVote Steps</h2><p>The <code>RequestVote</code> function is how candidates carry out elections in remote replicas. The function expects as input a <code>VoteRequest</code>, which contains the candidate&rsquo;s term, its unique identifier, and some details of its last log entry.</p><p><em>Note: Abbreviated for clarity</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#66d9ef>message</span> <span style=color:#a6e22e>VoteRequest</span> {<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>    <span style=color:#66d9ef>int32</span> term <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>;           <span style=color:#75715e>// The candidate&#39;s term.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>string</span> candidateId <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>;   <span style=color:#75715e>// ID of candidate requesting a vote.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>int64</span> lastLogIndex <span style=color:#f92672>=</span> <span style=color:#ae81ff>4</span>;   <span style=color:#75715e>// The index of candidate’s last log entry
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>int32</span> lastLogTerm <span style=color:#f92672>=</span> <span style=color:#ae81ff>5</span>;    <span style=color:#75715e>// The term number of candidate’s last log entry
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><p>In return, each voter will respond with a <code>VoteReply</code>, which contains their own unique identifier, their perspective of the term, and their vote.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-proto data-lang=proto><span style=display:flex><span><span style=color:#66d9ef>message</span> <span style=color:#a6e22e>VoteReply</span> {<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>    <span style=color:#66d9ef>string</span> id <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;            <span style=color:#75715e>// ID of the Raft node sending the vote.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>int32</span> term <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>;           <span style=color:#75715e>// Current term number
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>bool</span> voteGranted <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span>;     <span style=color:#75715e>// True if the voter has voted for the candidate
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><h4 id=1-vote-no-if-the-candidate-is-behind>1. Vote &ldquo;no&rdquo; if the candidate is behind</h4><p>Just like in <code>AppendEntries</code>, we first need to check if the candidate has an up-to-date term. If the candidate requesting the vote has a term less than the recipient&rsquo;s term, that candidate is not up-to-date with the rest of the cluster, and should be denied the vote. On the other hand if the candidate has a term greater than ours, we should ensure that we are a follower and reset our election timeout since we know there is a node in the cluster more up to date.</p><h4 id=2-vote-yes-if-the-candidate-is-ahead-or-even-but-only-vote-once>2. Vote &ldquo;yes&rdquo; if the candidate is ahead or even (but only vote once!)</h4><p>Each server in a Raft cluster keeps track of who it has most recently voted for (until the next successful heartbeat). If this <code>votedFor</code> field is null, then it hasn’t voted for anyone in the current term and is free to vote for the candidate that sent the request.</p><p>Here&rsquo;s the full logic for the <code>RequestVote</code> function:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-golang data-lang=golang><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>s</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>RaftServer</span>) <span style=color:#a6e22e>RequestVote</span>(<span style=color:#a6e22e>ctx</span> <span style=color:#a6e22e>context</span>.<span style=color:#a6e22e>Context</span>, <span style=color:#a6e22e>in</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>api</span>.<span style=color:#a6e22e>VoteRequest</span>) (<span style=color:#a6e22e>out</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>api</span>.<span style=color:#a6e22e>VoteReply</span>, <span style=color:#a6e22e>err</span> <span style=color:#66d9ef>error</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>Lock</span>()
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>Unlock</span>()
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>out</span> = <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>api</span>.<span style=color:#a6e22e>VoteReply</span>{<span style=color:#a6e22e>Id</span>: <span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>id</span>, <span style=color:#a6e22e>Term</span>: <span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>currentTerm</span>, <span style=color:#a6e22e>VoteGranted</span>: <span style=color:#66d9ef>false</span>}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>lastLogIndex</span>, <span style=color:#a6e22e>lastLogTerm</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>lastLogIndexAndTerm</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Check if the incoming request has a higher term than ours, if so then there is a node in the cluster
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// more up to date, so we ensure we are a follower and reset our election timeout
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// Note: It&#39;s important that we return this node&#39;s current term so that the requester can check if it is
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// out of date and if so, do the same (revert to follower and reset its election timeout)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>in</span>.<span style=color:#a6e22e>Term</span> &gt; <span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>currentTerm</span> {
</span></span><span style=display:flex><span>		<span style=color:#75715e>// Note: When implementing Raft logging is extremely helpful
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;RequestVote: in.Term &gt; s.currentTerm, reverting to follower\n&#34;</span>)
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>becomeFollower</span>(<span style=color:#a6e22e>in</span>.<span style=color:#a6e22e>Term</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// This (very complicated) check is to make sure the following things are true before granting the vote:
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>//  1. This nodes current term is the same as the requester&#39;s term
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>//  2. This node hasn&#39;t voted for another candidate (to prevent nodes from voting twice)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>//  3. The lastLogTerm and LastLogIndex of the requester is at least up to date with this node&#39;s
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>currentTerm</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>in</span>.<span style=color:#a6e22e>Term</span> <span style=color:#f92672>&amp;&amp;</span> (<span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>votedFor</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>in</span>.<span style=color:#a6e22e>CandidateId</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>votedFor</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;&#34;</span>) <span style=color:#f92672>&amp;&amp;</span>
</span></span><span style=display:flex><span>		(int(<span style=color:#a6e22e>in</span>.<span style=color:#a6e22e>LastLogTerm</span>) &gt; <span style=color:#a6e22e>lastLogTerm</span> <span style=color:#f92672>||</span> (<span style=color:#a6e22e>in</span>.<span style=color:#a6e22e>LastLogTerm</span> <span style=color:#f92672>==</span> int32(<span style=color:#a6e22e>lastLogTerm</span>) <span style=color:#f92672>&amp;&amp;</span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>in</span>.<span style=color:#a6e22e>LastLogIndex</span> <span style=color:#f92672>&gt;=</span> int64(<span style=color:#a6e22e>lastLogIndex</span>))) {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;granting vote to %v\n&#34;</span>, <span style=color:#a6e22e>in</span>.<span style=color:#a6e22e>CandidateId</span>)
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>VoteGranted</span> = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>votedFor</span> = <span style=color:#a6e22e>in</span>.<span style=color:#a6e22e>CandidateId</span>
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>lastHeartbeat</span> = <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Now</span>()
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>out</span>, <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>So, to sum it all up, the first job of the <code>RequestVote</code> RPC is to determine if the recipient itself is a candidate for election; the recipient will check to see if it is behind the requesting candidate&rsquo;s term, and if so, will become a follower. If the recipient is actually ahead of the candidate, it will notify the candidate that it is not eligible for election by passing it&rsquo;s current term back to the candidate. This helps enforce Raft&rsquo;s guarantee that there is only one leader at a time, and is important to determine early on to prevent the recipient from concurrently mounting its own campaign or for an ineligible candidate to repeatedly seek election (both of which can cause election thrashing).</p><p>Next, the recipient must determine whether it can vote for the candidate. The requirements for that decision are: (1) their terms must match (2) the recipient must not have already voted for another candidate (3) the most recent entry in the requesting candidate&rsquo;s log must have either the same term or a later term than the recipient&rsquo;s most recent log entry, and (4) the requesting candidate&rsquo;s log must not be shorter than the recipient&rsquo;s. If all these checks pass, the recipient will grant the candidate it&rsquo;s vote.</p><h2 id=wrapping-up>Wrapping Up</h2><p>And that’s a high level summary of the Raft algorithm! If you want to take a crack at implementing the algorithm I would encourage you to read the <a href=https://raft.github.io/raft.pdf>original whitepaper</a> by Diego Ongaro and John Ousterhout. It will give you a deeper dive into the algorithm and provide some explanations for more advanced topics in Raft like configuration changes and snapshots.</p><p>Writing your own implementation of Raft is definitely a difficult task, but if you&rsquo;re at all interested in distributed systems it&rsquo;s a fantastic way to get started down the path of learning about the field. For further reference you can check out <a href=https://github.com/rotationalio/Raft>my experimental implementation of Raft</a>. If you missed the first two parts of my Raft series you can find part one <a href=https://rotational.io/blog/building-a-raft-part-1/>here</a> and part two <a href=https://rotational.io/blog/building-a-raft-part-2/>here</a>.</p></article></div></div><div class="bg-[#E8EFF6] max-w-[800px] mx-auto mt-9 p-8 rounded-lg"><h3 class="font-bold text-xl sm:text-2xl lg:text-3xl text-center mb-3"><span class="text-[#1D65A6] font-bold">About </span>This Post</h3><p class="text-base mx-auto px-2 text-center lg:text-base">In the third and final part of our series on the Raft consensus algorithm we'll wrap up by going over leader election.</p><div class="flex flex-col md:flex-row text-center mx-auto border-t pt-6 mt-6 align-center justify-between gap-10"><div class=lg:w-1/2><h2 class="text-lg text-[#1D65A6] font-bold mb-3">Written by:</h2><div class="flex items-center"><a href=/authors/daniel-sollis><img src=img/team/daniel-sollis.png alt class="mr-3 border-4 border-white rounded-full h-11 drop-shadow-lg">
</a><span class="flex flex-wrap"><a href=/authors/daniel-sollis class="lg:w-[20ch] mx-2">Daniel Sollis</a></span></div></div><div class=lg:w-1/2><h2 class="text-lg text-[#1D65A6] font-bold mb-3">Share this post:</h2><ul class="flex items-center justify-center gap-6 mt-4"><li><a onclick=shareByEmail() class=cursor-pointer><img src=img/email.png alt class="rounded-lg bg-white p-3"></a></li><li><a onclick=shareOnTwitterWithTitle() class=cursor-pointer><img src=img/twitter.png alt class="rounded-lg bg-white p-3"></a></li><li><a onclick=shareOnLinkedIn() class=cursor-pointer><img src=img/linkedin.png alt class="rounded-lg bg-white p-3"></a></li></ul></div></div></div><div class="relative max-w-7xl mx-auto px-4 sm:px-6"><div class="flex justify-between mt-12 sm:mt-24 items-center"><div class="flex items-center"><h2 class="font-bold text-2xl sm:text-4xl flex"><span class=text-[#1D65A6]>Recommended</span>
&nbsp;Rotations</h2></div><div><a href=/blog class="flex text-base sm:text-lg items-center font-bold text-[#1D65A6]"><span>View all</span>
<img src=img/arr-right.png alt class="h-4 ml-2"></a></div></div><div><ul class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:my-8"><li class="mt-6 bg-[#ECF6FF] rounded-xl"><div class="flex flex-col h-full"><a href=https://rotational.io/blog/building-a-raft-part-2/><img loading=lazy src=/img/blog/2023-01-10-building-a-raft-part-2/otterRaftTwo_hu17179192015679059285.webp alt class="rounded-t-xl object-cover" style=height:212px;width:100%></a><div class="px-4 pt-4"><ul class="flex flex-wrap"><li class="text-base font-bold text-[#1D65A6]"><a href=/tags/distributed-systems>Distributed Systems</a></li></ul><div class="flex flex-col mt-4 h-full"><h3 class="text-xl font-extrabold sm:h-36"><a href=https://rotational.io/blog/building-a-raft-part-2/ class=block>Building a Raft (Part 2)</a></h3><div class=mb-4><p class="my-4 sm:mt-auto">In our first installment on how to implement the famous Raft algorithm, we introduced the log: an ordered sequence of operations that serves as the core data structure for distributed consensus. In this second part, we&rsquo;ll demonstrate …</p></div></div></div><div class="flex justify-between mt-auto items-center border-t px-4 py-3 h-16"><div class="flex items-center"><img loading=lazy src=/img/team/daniel-sollis_hu3896032726577558792.png alt class="rounded-full h-10 w-10"><ul class="flex flex-wrap ml-4"><li class=font-extralight><a href=/authors/daniel-sollis>Daniel Sollis</a></li></ul></div><div class=font-extralight>Jan 10, 2023</div></div></div></li><li class="mt-6 bg-[#ECF6FF] rounded-xl"><div class="flex flex-col h-full"><a href=https://rotational.io/blog/building-a-raft-part-1/><img loading=lazy src=/img/blog/2022-12-19-building-a-raft-part-1/otterRaftOne_hu12320812875523427993.webp alt class="rounded-t-xl object-cover" style=height:212px;width:100%></a><div class="px-4 pt-4"><ul class="flex flex-wrap"><li class="text-base font-bold text-[#1D65A6]"><a href=/tags/distributed-systems>Distributed Systems</a></li></ul><div class="flex flex-col mt-4 h-full"><h3 class="text-xl font-extrabold sm:h-36"><a href=https://rotational.io/blog/building-a-raft-part-1/ class=block>Building a Raft (Part 1)</a></h3><div class=mb-4><p class="my-4 sm:mt-auto">With all the <a href=https://rotational.io/blog/six-things-you-didnt-know-about-crypto/>blockchain breaches</a> and <a href=https://rotational.io/blog/twitter-wont-disappear-overnight/>social media escapades</a>, there&rsquo;s been an awful lot of buzz about distributed systems lately. But how many of us really understand how they work? Let&rsquo;s dive in together&mldr;</p></div></div></div><div class="flex justify-between mt-auto items-center border-t px-4 py-3 h-16"><div class="flex items-center"><img loading=lazy src=/img/team/daniel-sollis_hu3896032726577558792.png alt class="rounded-full h-10 w-10"><ul class="flex flex-wrap ml-4"><li class=font-extralight><a href=/authors/daniel-sollis>Daniel Sollis</a></li></ul></div><div class=font-extralight>Dec 19, 2022</div></div></div></li><li class="mt-6 bg-[#ECF6FF] rounded-xl"><div class="flex flex-col h-full"><a href=https://rotational.io/blog/twitter-wont-disappear-overnight/><img loading=lazy src=/img/blog/2022-11-29-storm-clouds_hu12262392891239512510.webp alt class="rounded-t-xl object-cover" style=height:212px;width:100%></a><div class="px-4 pt-4"><ul class="flex flex-wrap"><li class="text-base font-bold text-[#1D65A6]"><a href=/tags/distributed-systems>Distributed Systems</a></li></ul><div class="flex flex-col mt-4 h-full"><h3 class="text-xl font-extrabold sm:h-36"><a href=https://rotational.io/blog/twitter-wont-disappear-overnight/ class=block>No, Twitter Won't Disappear Overnight</a></h3><div class=mb-4><p class="my-4 sm:mt-auto">In this post we&rsquo;ll explore the question, how does a distributed system <em>actually</em> die?</p></div></div></div><div class="flex justify-between mt-auto items-center border-t px-4 py-3 h-16"><div class="flex items-center"><img loading=lazy src=/img/team/edwin-schmierer_hu5621933698583174314.png alt class="rounded-full h-10 w-10"><ul class="flex flex-wrap ml-4"><li class=font-extralight><a href=/authors/edwin-schmierer>Edwin Schmierer</a></li></ul></div><div class=font-extralight>Nov 29, 2022</div></div></div></li></ul></div></div></div><div class="bg-[#1D65A6] max-w-[800px] mx-auto mt-20 py-8 px-12 md:px-16 text-white md:rounded-lg"><input type=hidden id=newsletterFormID value=8aeeb77b-a5e0-4772-b726-44e1fc2eb6e1><form action=newsletter method=post id=newsletterForm><h6 class="font-bold text-center">Enter Your Email To Subscribe</h6><div class="bg-teal-100 border-t-4 border-teal-500 mt-3 rounded-b text-teal-900 p-4 shadow-md hidden" id=newsletter-alert role=alert><div class=flex><div><p class=text-sm>Thank you for joining the Rotational Labs newsletter!</p></div></div></div><div id=newsletter-error class="hidden mt-3 bg-red-200 border-t-4 border-red-600 text-red-900 rounded-b p-4 shadow-md" role=alert><div><p class=text-sm>Your request did not go through, please try again. If you need immediate assistance, please email support@rotational.io.</p></div></div><label for=email class=hidden>Email</label>
<input type=text name=email id=email required placeholder class="w-full px-4 py-2.5 rounded-lg mt-6 text-black" style=color:#000><div class="flex mt-6 items-start gap-x-2"><input type=checkbox id=checkbox required name=consent class="mt-1 w-4 h-4 block border-0">
<label for=checkbox><span id=consentText>I want to receive the monthly newsletter and other updates from Rotational. You agree to our Privacy Policy. You may unsubscribe at any time.*</span></label></div><div class="flex justify-center"><button id=newsletter-bttn type=submit data-sitekey=6Ld5O3kiAAAAAJU0z0h81X1RxEMHyoROe6KWe_vk data-action=newsletter class="bg-[#192E5B] px-10 py-3 mt-8 rounded-lg text-sm text-white uppercase md:text-base hover:bg-[#192E5B]/80">
Submit</button></div></form></div></main><footer class="relative mt-40 md:mt-56 bg-[#192E5B]"><div class="relative w-full pt-36 md:pt-16 lg:pt-24 2xl:pt-20 font-extralight text-white"><div class="-mt-52 w-full mx-auto max-w-screen-xl px-4"><section class="bg-[#72A2C0] w-full p-6 md:py-20 md:px-16"><h2 class="my-4 text-2xl sm:text-3xl md:text-5xl text-white font-extrabold">BUILD THE AI SYSTEMS THAT MOVE YOUR BUSINESS FORWARD.</h2><div class=py-6><a href=/contact class="p-3 md:p-4 md:px-6 bg-[#2F4858] font-bold md:text-lg text-white text-center hover:bg-[#2F4858]/80">CONTACT US</a></div></section></div><div class="max-w-7xl mx-auto px-6"><div class="mt-12 flex flex-col md:flex-row lg:justify-between gap-x-8"><div class="my-4 max-w-xs"><h5 class="mb-3 font-extrabold">OUR PRESENCE</h5><p>We share because we care, about topics, tools, and technologies that we believe impact the AI economy.</p><div class=py-4><ul class="flex justify-between items-center gap-x-8"><li><a href=https://twitter.com/rotationalio target=_blank class=hover:text-[#1D65A6]><i class="text-2xl fa-brands fa-x-twitter"></i><p class=sr-only>Twitter</p></a></li><li><a href=https://www.linkedin.com/company/rotational target=_blank class=hover:text-[#1D65A6]><i class="text-2xl fa-brands fa-linkedin"></i><p class=sr-only>LinkedIn</p></a></li><li><a href=https://github.com/rotationalio target=_blank class=hover:text-[#1D65A6]><i class="text-2xl fa-brands fa-github"></i><p class=sr-only>GitHub</p></a></li><li><a href=https://www.youtube.com/@rotationalio target=_blank class=hover:text-[#1D65A6]><i class="text-2xl fa-brands fa-youtube"></i><p class=sr-only>YouTube</p></a></li><li><a href=https://www.twitch.tv/rotationallabs target=_blank class=hover:text-[#1D65A6]><i class="text-2xl fa-brands fa-twitch"></i><p class=sr-only>Twitch</p></a></li></ul></div></div><div class=my-4><h5 class="mb-3 font-extrabold">COMPANY</h5><ul><li class="pb-3 flex items-center gap-x-2"><i class="fa-solid fa-chevron-right text-[#757575] text-xs"></i>
<a href=/about>About Us</a></li><li class="pb-3 flex items-center gap-x-2"><i class="fa-solid fa-chevron-right text-[#757575] text-xs"></i>
<a href=/case-studies>Case Studies</a></li><li class="pb-3 flex items-center gap-x-2"><i class="fa-solid fa-chevron-right text-[#757575] text-xs"></i>
<a href=https://rotational.ai>Endeavor</a></li><li class="pb-3 flex items-center gap-x-2"><i class="fa-solid fa-chevron-right text-[#757575] text-xs"></i>
<a href=/blog>Blog</a></li></ul></div><div class=my-4><h5 class="mb-3 font-extrabold">COMMUNITY</h5><ul><li class="pb-3 flex items-center gap-x-2"><i class="fa-solid fa-chevron-right text-[#757575] text-xs"></i>
<a href=/learning>Learning</a></li><li class="pb-3 flex items-center gap-x-2"><i class="fa-solid fa-chevron-right text-[#757575] text-xs"></i>
<a href=/opensource>Open Source</a></li></ul></div><div class=my-4><h5 class="mb-3 font-extrabold">CONTACT US</h5><ul><li class="flex items-baseline lg:items-center gap-x-2"><i class="fa-solid fa-map-marker-alt text-[#757575]"></i>
St. Paul, MN & Washington, DC</li><li class="flex items-baseline lg:items-center gap-x-2"><i class="fa-solid fa-envelope text-[#757575]"></i>
info@rotational.io</li></ul><div class=py-8><a href=/contact class="p-3 bg-[#ECF6FF] font-bold text-black text-center hover:bg-[#ECF6FF]/80">CONTACT US</a></div></div></div><div class="sm:flex justify-between py-6 border-t mt-4"><p>Copyright © Rotational Labs, Inc. 2021–2026 · All Rights Reserved</p><div><ul class="sm:mt-0 mt-4 flex gap-x-8"><li><a href=/privacy/>Privacy Policy</a></li><li><a href=/terms/>Terms of Use</a></li><li><button id=hs_show_banner_button type=button onclick='(()=>{const e=window._hsp=window._hsp||[];e.push(["showBanner"])})()'>
Manage Cookies</button></li></ul></div></div></div></div></footer><script src=https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js></script><script src=https://rotational.io/js/blogSingle.js></script><script type=module src=https://rotational.io/js/newsletterForm.js></script></body></html>